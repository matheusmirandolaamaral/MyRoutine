@using MyRoutine.Extensions
@model MyRoutine.Models.ViewModels.HomeViewModel
@{
	ViewData["Title"] = "Home Page";
}


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container my-4">
	<h1 class="mb-1">Dieta do Dia</h1>
	<p class="text-muted">Gerencie sua alimentação de hoje</p>

	<div class="border-top my-2"></div>

	<div class="row g-3 mt-3">
		<div class="col-md-6">
			<a class="btn btn-primary w-100 p-3 text-start" asp-action="Index" asp-controller="Diets">
				<div class="fw-bold">Usar dieta existente</div>
				<div class="fs-6 opacity-75">
					Selecionar um plano já criado
				</div>
			</a>
		</div>
		<div class="col-md-6">
			<a class="btn btn-success w-100 p-3 text-start" asp-action="Create" asp-controller="Diets">
				<div class="fw-bold">Criar uma Nova Dieta</div>
				<div class="fs-6 opacity-75">
					Crie uma dieta nova
				</div>
			</a>
		</div>
	</div>

	<div class="border-top my-2"></div>

	@if (Model.DailyDiet != null)
	{
		<div class="mt-4">
			<h4>
				Sua Dieta de Hoje:
				<span class="text-primary">@Model.DailyDiet.Diet.Name</span>
			</h4>
		</div>
	}

	@if (Model.DailyDiet != null)
	{
		<div class="row mt-4 g-3">
			<div class="col-md-3">
				<div class="card shadow-sm h-100">
					<div class="card-body">
						<h6 class="text-muted">Calorias da Dieta</h6>
						<h4 class="fw-bold">@Model.TotalCalories</h4>
					</div>
				</div>
			</div>

			<div class="col-md-3">
				<div class="card shadow-sm h-100">
					<div class="card-body">
						<h6 class="text-muted">Refeições</h6>
						<h4 class="fw-bold">@Model.CountMeals</h4>
					</div>
				</div>
			</div>

			<div class="col-md-3">
				<div class="card shadow-sm h-100">
					<div class="card-body">
						<h6 class="text-muted">Consumido</h6>
						<h4 class="fw-bold">0 kcal</h4>
					</div>
				</div>
			</div>

			<div class="col-md-3">
				<div class="card shadow-sm h-100">
					<div class="card-body">
						<h6 class="text-muted">Água</h6>
						<h4 class="fw-bold">0 / 2 L</h4>
					</div>
				</div>
			</div>
			@if (Model.Meals != null && Model.Meals.Any())
			{
				<div class="mt-5">
					<h5 class="mb-3">Refeições de Hoje</h5>

					<div class="list-group">
						@foreach (var meal in Model.Meals)
						{
							<div class="list-group-item">
								<div class="d-flex justify-content-between align-items-center">
									<div>
										<strong>@meal.Name</strong><br />
										<small class="text-muted">
											@meal.Type.GetDisplayName()
											@if (!string.IsNullOrWhiteSpace(meal.Description))
											{
												<span>• @meal.Description</span>
											}
										</small>
									</div>

									<span class="fw-bold text-secondary">
										@meal.Calories kcal
									</span>
								</div>
							</div>
						}
					</div>
				</div>
			}
			else if (Model.DailyDiet != null)
			{
				<p class="text-muted mt-4">
					Nenhuma refeição cadastrada para essa dieta.
				</p>
			}




		</div>
	}



</div>